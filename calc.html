<html>
<head>
<meta name="viewport" content="width=device-width">
<title>Калькулятор відсотків</title>
<style>
* {
color: black;
}
table {
border-collapse: collapse;
}
tr td {
border: 1px solid black;
text-align:center;
}

</style>
</head>
<body style='margin: auto; background-color:#F5DEB3;'>
<table width="100%" height="100%">
<td style="vertical-align: middle; text-align:center; padding:auto;">
<div style='display:inline-block; text-align:center; border:white solid 2px; padding:15px; border-radius:15px;background-color:#DEB887;' >
<p>КАЛЬКУЛЯТОР ВІДСОТКІВ</p>
<input type='button' value='Додати %' onclick='plPDV()'>
<input type='button' value='Відняти %' onclick='msPDV()'>
<p id='proc' style='display:none'>ВІДСОТОК:  <input id='procent' type='number' required size='10' value='20'> %</p>
<div id='plusPDV' style='display:none'>
<p>Введіть значення: </p>
<input id='val' type='number' placeholder='Для дробових "."' style='-moz-appearance:textfield'>
<input type='button' value='Обчислити' onclick='res()'>
</br>
</br>
<input type='button' value='Видалити останнє' onclick='del()'>
<input type='button' value='Видалити все' onclick='delAll()'>
</br>
</br>
<table id='res' border='0' align='center' >
<tbody >
<tr>
<td>Введене значення</td>
<td>&nbsp&nbsp%&nbsp&nbsp</td>
<td>Сума</td>
</tr>
</tbody>
</table>
</div>

<div id='minusPDV' style='display:none'>
<p>Введіть значення: </p>
<input id='Mval' type='number' placeholder='Для дробових "."' style='-moz-appearance:textfield'>
<input type='button' value='Обчислити' onclick='Mres()'>
</br>
</br>
<input type='button' value='Видалити останнє' onclick='Mdel()'>
<input type='button' value='Видалити все' onclick='MdelAll()'>
</br>
</br>
<table id='Mres' border='0' align='center'>
<tbody >
<tr>
<td>Введене значення</td>
<td>&nbsp&nbsp%&nbsp&nbsp</td>
<td>Різниця</td>
</tr>
</tbody>
</table>
</div>
</div>
</td>

</table>
<script>
//base script
function plPDV(){
document.getElementById('plusPDV').style.display='';
document.getElementById('minusPDV').style.display='none';
document.getElementById('proc').style.display='';
}
function msPDV(){
document.getElementById('minusPDV').style.display='';
document.getElementById('plusPDV').style.display='none';
document.getElementById('proc').style.display='';
}

function pdv(x, p){

var y=x/x;
var z=p/p;
var rez_pdv=(x/100)*p;
var pdv=rez_pdv+(+x);

if (y==1 & z==1) return("<tr><td>"+x+"</td>"+"<td>"+rez_pdv.toFixed(2)+"</td>"+"<td>"+pdv.toFixed(2)+"</td></tr>");
else return "<tr><td>Error</td></tr>";
}

var newResPar = document.getElementById('res');

function res(){

var i = 0;
var n = document.getElementById('val').value;
var p = document.getElementById('procent').value;

newResPar.getElementsByTagName('tbody')[i].innerHTML += pdv(n, p);
i++;
document.getElementById('val').value="";
}

  function del(){

var x=newResPar.getElementsByTagName('tr').length;
var y=newResPar.getElementsByTagName('tr')[x-1];

if (x>1) y.remove();
}

  function delAll(){

document.getElementById('res').innerHTML = "<tbody><tr><td>Введене значення</td><td>ПДВ</td><td>Сума з ПДВ</td></tr></tbody>";
}

// inerr PDV
  function Mpdv(x, p){

var y=x/x;
var z=p/p;
var rez_pdv=(x/100*p);
var pdv=x-rez_pdv;

if (y==1 & z==1) return("<tr><td>"+x+"</td>"+"<td>"+rez_pdv.toFixed(2)+"</td>"+"<td>"+pdv.toFixed(2)+"</td></tr>");
else return "<tr><td>Error</td></tr>";
}

var MnewResPar = document.getElementById('Mres');

  function Mres(){

var i = 0;
var n = document.getElementById('Mval').value;
var p = document.getElementById('procent').value;

MnewResPar.getElementsByTagName('tbody')[i].innerHTML += Mpdv(n, p);
i++;
document.getElementById('Mval').value="";
}

  function Mdel(){

var x=MnewResPar.getElementsByTagName('tr').length;
var y=MnewResPar.getElementsByTagName('tr')[x-1];

if (x>1) y.remove();
}

  function MdelAll(){

document.getElementById('Mres').innerHTML = "<tbody><tr><td>Введене значення</td><td>ПДВ</td><td>Сума без ПДВ</td></tr></tbody>";
}
</script>


</body>
</html>
